<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="vue.js"></script>
</head>

<body>
    <div id="app">
        <cmp-a>
            <cmp-b>
                <cmp-c></cmp-c>
            </cmp-b>
        </cmp-a>
    </div>
    <script>

        Vue.component('cmp-a', {
            provide() {
                return {
                    share: this.share
                }
            },
            data() {
                return {
                    share: 'share'
                }
            },
            template: `
                <div><slot></slot></div>
            `
        })

        Vue.component('cmp-b', {
            mounted() {
                console.log(this.$parent.share);
            },
            template: `
                <div><slot></slot></div>
            `
        })

        Vue.component('cmp-c', {
            inject: ['share'],
            mounted() {
                console.log(this.share);
            },
            template: `
                <div><slot>{{ $root.msg }}</slot></div>
            `
        })

        const vm = new Vue({
            el: '#app',
            data: {
                msg: '哈哈'
            },
        })

    </script>
</body>

</html>